<div class="row">
  <div class="col-md-6 offset-md-3">
    <div class="row">
      <div class="col-md-4 offset-md-2">
        <% if @user.profile_image.attached? %>
          <button type="button" class="btn btn-outline-light user_avatar" data-toggle="modal" data-target="#exampleModalCenter">
            <%= image_tag(@user.profile_image, :size => "200x200", :class => "user_avatar") %>
          </button>
        <% else %>
          <button type="button" class="btn btn-outline-light user_avatar" data-toggle="modal" data-target="#exampleModalCenter">
            <%= image_tag('user_default.png', :size => "200x200", :class => "user_avatar") %>
          </button>
        <% end %>
      </div>
      <div class="col-md-4">
        <p class="my-3 font-weight-bold" style="font-size: 300%"><%= best_in_place @user, :name, :as => :input%></p>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12 offset-md-2">

        <% rides = @user.rides %>
        <% if rides.size == 0 %>
          <h1>
            No trip history.
          </h1>
        <% end %>
        <div class="container">
          <table class="table table-striped">
            <thead>
            </thead>
            <tbody>
              <% rides.each do |ride| %>
                <tr>
                  <%= ride.pickup_start.to_s[0..-10] %>
                  <% if ride.canceled_by %>
                    Canceled
                  <%else %>
                    <%=ride.starting_address[0..-6]%>
                    <%=ride.destination_address[0..-6] %>
                  <%end %>
                </tr>
              <%end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

